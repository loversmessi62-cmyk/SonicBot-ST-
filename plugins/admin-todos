export default {
    comando: ["todos", "tagall", "invocar"],
    descripcion: "Menciona a todos los miembros del grupo",
    categoria: "admin",

    ejecutar: async (sock, m, args, { isAdmin, isBotAdmin, groupMetadata, prefix }) => {

        if (!m.isGroup)
            return m.reply("âŒ Este comando solo funciona en grupos.");

        if (!isAdmin)
            return m.reply("âŒ Este comando es solo para *administradores*.");

        if (!isBotAdmin)
            return m.reply("âŒ Necesito ser *admin* para mencionar a todos.");

        let texto = args.join(" ") || "ğŸ“¢ *Â¡AtenciÃ³n a todos!*";

        let participantes = groupMetadata.participants;
        let menciones = participantes.map(u => u.id);

        let mensaje = `${texto}\n\n`;
        for (let user of participantes) {
            mensaje += `â¤ @${user.id.split("@")[0]}\n`;
        }

        await sock.sendMessage(m.chat, { text: mensaje, mentions: menciones });
    }
}
